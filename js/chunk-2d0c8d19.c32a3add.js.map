{"version":3,"sources":["webpack:///./src/views/Decouvrir.vue?ef4f","webpack:///src/views/Decouvrir.vue","webpack:///./src/views/Decouvrir.vue?4db6","webpack:///./src/views/Decouvrir.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_l","book","i","key","staticClass","photo","_v","_s","title","auteur","genre","_e","resume","ville","on","$event","deleteBook","sendMessage","links","idUser","myId","deleteLik","id","addLik","model","value","callback","$$v","confMsg","expression","messageConf","staticRenderFns","data","myLik","lik","listBooks","myUser","allMessages","allfavoris","msgg","idmsg","avis","note","etats","nameUser","disponible","created","user","getUser","getBook","methods","splice","setTimeout","push","getMyMessages","date","Date","toISOString","substr","nameEmeteur","name","nameRecepteur","idEmeteur","idRecepteur","msg","component","VAvatar","VBottomNavigation","VBtn","VCard","VCarousel","VCarouselItem","VChip","VCol","VDialog","VIcon","VRow","VSheet","VSpacer","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d0c8d19.c32a3add.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-carousel',{attrs:{\"height\":\"700\",\"hide-delimiters\":\"\"}},_vm._l((_vm.listBooks),function(book,i){return _c('v-carousel-item',{key:i},[_c('v-row',[_c('v-col',{staticClass:\"mt-16 ml-16\",attrs:{\"md\":\"4\",\"sm\":\"4\",\"xs\":\"4\"}},[_c('img',{staticClass:\"mt-16 ml-16\",attrs:{\"src\":book.photo,\"height\":\"360px\",\"alt\":\"\"}})]),_c('v-col',{staticClass:\"mt-12\",attrs:{\"md\":\"7\",\"sm\":\"4\",\"xs\":\"4\"}},[_c('v-sheet',{staticClass:\"black--text mr-12 mt-16\",attrs:{\"color\":\"transparent\"}},[_c('v-row',[_c('div',[_c('h1',{staticClass:\" mt-16\"},[_vm._v(_vm._s(book.title))]),_c('h3',{staticClass:\" mt-2\"},[_vm._v(_vm._s(book.auteur))]),(book.genre[0])?_c('v-chip',{staticClass:\"ma-2  mt-1\",attrs:{\"color\":\"deep-purple darken-1\"}},[_vm._v(\" \"+_vm._s(book.genre[0])+\" \")]):_vm._e(),(book.genre[1])?_c('v-chip',{staticClass:\"ma-2  mt-1\",attrs:{\"color\":\"purple darken-1\"}},[_vm._v(\" \"+_vm._s(book.genre[1])+\" \")]):_vm._e(),_c('p',{staticClass:\"mr-16  mt-12\"},[_vm._v(\" \"+_vm._s(book.resume)+\" \")]),_c('p',{staticClass:\"mt-6\"},[_c('v-icon',{staticClass:\"black--text\"},[_vm._v(\"mdi-map-marker\")]),_vm._v(\" \"+_vm._s(book.ville)+\" \")],1)],1)])],1)],1)],1),_c('v-bottom-navigation',{staticClass:\"text-center black--text transparent\",attrs:{\"height\":\"110\"}},[_c('v-row',{staticClass:\"justify-center\"},[_c('v-col',{attrs:{\"md\":\"2\"}},[_c('v-avatar',{staticClass:\"mt-3 mr-10 ml-10\",attrs:{\"size\":\"62\",\"color\":\"orange\"}},[_c('v-icon',{attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.deleteBook(i)}}},[_vm._v(\" mdi-close \")])],1),_c('p',[_vm._v(\"Ne m'intéresse pas\")])],1),_c('v-col',{attrs:{\"md\":\"2\"}},[_c('v-avatar',{staticClass:\"mt-3\",attrs:{\"size\":\"62\",\"color\":\"orange\"}},[_c('v-icon',{attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.sendMessage(book, i)}}},[_vm._v(\" mdi-flag \")])],1),_c('p',[_vm._v(\"Réserver\")])],1),_c('v-col',{attrs:{\"md\":\"2\"}},[_c('v-avatar',{staticClass:\"mt-3 mr-10 ml-10\",attrs:{\"size\":\"62\",\"color\":\"orange\"}},[(\n                (book.links[0] &&  book.links[0].idUser === _vm.myId) ||\n                  (book.links[1] && book.links[1].idUser === _vm.myId) ||\n                  (book.links[2] && book.links[2].idUser === _vm.myId) ||\n                  (book.links[3] && book.links[3].idUser === _vm.myId) ||\n                  (book.links[4] && book.links[4].idUser === _vm.myId) ||\n                  (book.links[5] && book.links[5].idUser === _vm.myId) ||\n                  (book.links[6] && book.links[6].idUser === _vm.myId) ||\n                  (book.links[7] && book.links[7].idUser === _vm.myId) ||\n                  (book.links[8] && book.links[8].idUser === _vm.myId)\n              )?_c('v-icon',{attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.deleteLik(book.id, i)}}},[_vm._v(\" mdi-cards-heart \")]):_c('v-icon',{attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.addLik(book.id, i)}}},[_vm._v(\" mdi-cards-heart \")])],1),_c('p',[_vm._v(\"Ajouter à mes favoris\")])],1)],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.confMsg),callback:function ($$v) {_vm.confMsg=$$v},expression:\"confMsg\"}},[_c('v-card',{attrs:{\"max-width\":\"500px\"}},[_c('v-toolbar',{attrs:{\"color\":\"light-green darken-1\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Confirmation\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.confMsg = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('div',{staticClass:\"text-center\"},[_c('h2',[_vm._v(_vm._s(_vm.messageConf))])])],1)],1)],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-carousel height=\"700\" hide-delimiters>\r\n    <v-carousel-item v-for=\"(book, i) in listBooks\" :key=\"i\">\r\n      <v-row>\r\n        <v-col class=\"mt-16 ml-16\" md=\"4\" sm=\"4\" xs=\"4\">\r\n          <img :src=\"book.photo\" class=\"mt-16 ml-16\" height=\"360px\" alt=\"\" />\r\n        </v-col>\r\n        <v-col class=\"mt-12\" md=\"7\" sm=\"4\" xs=\"4\">\r\n          <v-sheet color=\"transparent\" class=\"black--text mr-12 mt-16\">\r\n            <v-row>\r\n              <div>\r\n                <h1 class=\" mt-16\">{{ book.title }}</h1>\r\n                <h3 class=\" mt-2\">{{ book.auteur }}</h3>\r\n                <v-chip\r\n                  v-if=\"book.genre[0]\"\r\n                  class=\"ma-2  mt-1\"\r\n                  color=\"deep-purple darken-1\"\r\n                >\r\n                  {{ book.genre[0] }}\r\n                </v-chip>\r\n                <v-chip\r\n                  v-if=\"book.genre[1]\"\r\n                  class=\"ma-2  mt-1\"\r\n                  color=\"purple darken-1\"\r\n                >\r\n                  {{ book.genre[1] }}\r\n                </v-chip>\r\n                <p class=\"mr-16  mt-12\">\r\n                  {{ book.resume }}\r\n                </p>\r\n                <p class=\"mt-6\">\r\n                  <v-icon class=\"black--text\">mdi-map-marker</v-icon>\r\n                  {{ book.ville }}\r\n                </p>\r\n              </div>\r\n            </v-row>\r\n          </v-sheet>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-bottom-navigation\r\n        class=\"text-center black--text transparent\"\r\n        height=\"110\"\r\n      >\r\n        <v-row class=\"justify-center\">\r\n          <v-col md=\"2\">\r\n            <v-avatar class=\"mt-3 mr-10 ml-10\" size=\"62\" color=\"orange\">\r\n              <v-icon @click=\"deleteBook(i)\" dark>\r\n                mdi-close\r\n              </v-icon>\r\n            </v-avatar>\r\n            <p>Ne m'intéresse pas</p>\r\n          </v-col>\r\n          <v-col md=\"2\">\r\n            <v-avatar class=\"mt-3\" size=\"62\" color=\"orange\">\r\n              <v-icon @click=\"sendMessage(book, i)\" dark>\r\n                mdi-flag\r\n              </v-icon>\r\n            </v-avatar>\r\n            <p>Réserver</p>\r\n          </v-col>\r\n\r\n          <v-col md=\"2\">\r\n            <v-avatar class=\"mt-3 mr-10 ml-10\" size=\"62\" color=\"orange\">\r\n              \r\n               <v-icon\r\n                dark\r\n                v-if=\"\r\n                  (book.links[0] &&  book.links[0].idUser === myId) ||\r\n                    (book.links[1] && book.links[1].idUser === myId) ||\r\n                    (book.links[2] && book.links[2].idUser === myId) ||\r\n                    (book.links[3] && book.links[3].idUser === myId) ||\r\n                    (book.links[4] && book.links[4].idUser === myId) ||\r\n                    (book.links[5] && book.links[5].idUser === myId) ||\r\n                    (book.links[6] && book.links[6].idUser === myId) ||\r\n                    (book.links[7] && book.links[7].idUser === myId) ||\r\n                    (book.links[8] && book.links[8].idUser === myId)\r\n                \"\r\n                @click=\"deleteLik(book.id, i)\"\r\n              >\r\n                mdi-cards-heart\r\n              </v-icon>\r\n              <v-icon dark v-else @click=\"addLik(book.id, i)\">\r\n                mdi-cards-heart\r\n              </v-icon> \r\n              \r\n            </v-avatar>\r\n            <p>Ajouter à mes favoris</p>\r\n          </v-col>\r\n        </v-row>\r\n      </v-bottom-navigation>\r\n\r\n      <!--  --------------------------- confirm message --------------------------- -->\r\n      <v-row justify=\"center\">\r\n        <v-dialog v-model=\"confMsg\" persistent max-width=\"500px\">\r\n          <v-card max-width=\"500px\">\r\n            <v-toolbar color=\"light-green darken-1\" dark>\r\n              <v-toolbar-title>Confirmation</v-toolbar-title>\r\n              <v-spacer></v-spacer>\r\n              <v-btn icon @click=\"confMsg = false\">\r\n                <v-icon>mdi-close</v-icon>\r\n              </v-btn>\r\n            </v-toolbar>\r\n\r\n            <div class=\"text-center\">\r\n              <h2>{{ messageConf }}</h2>\r\n            </div>\r\n          </v-card>\r\n        </v-dialog>\r\n      </v-row>\r\n      <!--  --------------------------- End confirm message --------------------------- -->\r\n    </v-carousel-item>\r\n  </v-carousel>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"firebase\";\r\nimport { db, msgsRef, booksRef } from \"../main\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      myLik: [],\r\n      lik: {},\r\n      listBooks: [],\r\n      myUser: [],\r\n      value: 4,\r\n      allMessages: [],\r\n      allfavoris: [],\r\n      msgg: [],\r\n      idmsg: \"6JfI2xqVKYWnYkSMypaJ\",\r\n      messageConf: \"\",\r\n      confMsg: false,\r\n      photo: \"\",\r\n      avis: \"\",\r\n      title: \"\",\r\n      auteur: \"\",\r\n      note: \"\",\r\n      etats: \"\",\r\n      resume: \"\",\r\n      nameUser: \"\",\r\n      idUser: \"\",\r\n      ville: \"\",\r\n      disponible: \"\",\r\n      myId: \"\"\r\n    };\r\n  },\r\n  created: function() {\r\n    // check auth\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.userAuth = user;\r\n        this.myName = user.email;\r\n        this.myId = user.uid;\r\n      } else {\r\n        this.userAuth = null;\r\n      }\r\n    });\r\n\r\n    this.getUser();\r\n    this.getBook();\r\n  },\r\n  methods: {\r\n    getBook: function() {\r\n      db.collection(\"books\")\r\n        .get()\r\n        .then(snapshot => {\r\n          snapshot.forEach(doc => {\r\n            let book = doc.data();\r\n            book.id = doc.id;\r\n\r\n            if (book.ville == this.myUser[0].ville) {\r\n              this.listBooks.push(book);\r\n            }\r\n          });\r\n        });\r\n      return this.listBooks;\r\n    },\r\n    getUser: function() {\r\n      db.collection(\"users\")\r\n        .get()\r\n        .then(snapshot => {\r\n          snapshot.forEach(doc => {\r\n            let newUser = doc.data();\r\n            newUser.id = doc.id;\r\n\r\n            if (newUser.idUser == this.myId) {\r\n              this.myUser.push(newUser);\r\n            }\r\n          });\r\n        });\r\n      return this.myUser;\r\n    },\r\n    deleteBook(i) {\r\n      this.listBooks.splice(i, 1);\r\n      this.messageConf = \"Le livre a été retiré de la liste\";\r\n      this.confMsg = true;\r\n      setTimeout(() => {\r\n        return (this.confMsg = false);\r\n      }, 4000);\r\n      return this.listBooks;\r\n    },\r\n\r\n    //-------------------------------- favoris ----------------------\r\n    // addFavoris(i) {\r\n    //   this.messageConf = \"Le livre a été ajouté à vos favoris\";\r\n    //   this.confMsg = true;\r\n    //   setTimeout(() => {\r\n    //     return (this.confMsg = false);\r\n    //   }, 4000);\r\n    //   this.listBooks.splice(i, 1);\r\n    // },\r\n\r\n    addLik: function(id, i) {\r\n      this.lik = { idUser: this.myId };\r\n      this.myLik = this.listBooks[i].links;\r\n      this.myLik.push(this.lik);\r\n\r\n      booksRef\r\n        .doc(id)\r\n        .update({ links: this.myLik }, { merge: true })\r\n        .then(() => {\r\n          console.log(\"Document successfully updated!\");\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error updating document: \", error);\r\n        });\r\n      this.messageConf = \"Le livre a été ajouté à vos favoris\";\r\n      this.confMsg = true;\r\n      setTimeout(() => {\r\n        return (this.confMsg = false);\r\n      }, 4000);\r\n      this.listBooks.splice(i, 1);\r\n    },\r\n\r\n    deleteLik: function(id, i) {\r\n      this.myLik = this.listBooks[i].links;\r\n      for (let i = 0, i_len = this.myLik.length; i < i_len; i++) {\r\n        if (this.myLik[i].idUser == this.myId) {\r\n          this.myLik.splice(i, 1);\r\n        }\r\n      }\r\n\r\n      booksRef\r\n        .doc(id)\r\n        .update({ links: this.myLik }, { merge: true })\r\n        .then(() => {\r\n          console.log(\"Document successfully updated!\");\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error updating document: \", error);\r\n        });\r\n      this.messageConf = \"Le livre a été retiré sur la listes de vos favoris\";\r\n      this.confMsg = true;\r\n      setTimeout(() => {\r\n        return (this.confMsg = false);\r\n      }, 4000);\r\n    },\r\n\r\n    getMyMessages: function() {\r\n      db.collection(\"messages\")\r\n        .get()\r\n        .then(snapshot => {\r\n          snapshot.forEach(doc => {\r\n            let msgUser = doc.data();\r\n            msgUser.id = doc.id;\r\n            let msgg = msgUser.msg;\r\n            this.allMessages.push(msgg);\r\n          });\r\n        });\r\n\r\n      return this.allMessages;\r\n    },\r\n\r\n    sendMessage(book, i) {\r\n      this.date = new Date().toISOString().substr(0, 19);\r\n      //this.getMyMessages();\r\n      (this.newMsg = {\r\n        nameEmeteur: this.myUser[0].name,\r\n        nameRecepteur: book.nameUser,\r\n        idEmeteur: this.myUser[0].idUser,\r\n        idRecepteur: book.idUser,\r\n        msg:\r\n          \"Bonjour, je suis intéressé par votre livre, et j'aimerais savoir si je peux l'emprunter ?\",\r\n        created: this.date\r\n      }),\r\n        this.listBooks.splice(i, 1);\r\n      this.getMyMessages();\r\n      setTimeout(() => {\r\n        this.msgg = this.allMessages[0];\r\n        this.msgg.push(this.newMsg);\r\n        msgsRef\r\n          .doc(this.idmsg)\r\n          .update({ msg: this.msgg }, { merge: true })\r\n          .then(() => {\r\n            console.log(\"Votre message a été envoyé avec succès!\");\r\n          })\r\n          .catch(error => {\r\n            console.error(\"Error lors denvois de message: \", error);\r\n          });\r\n      }, 1000);\r\n      this.messageConf =\r\n        \"Votre demande a bien été prise en compte, vous serez contacté prochainement par son propriétaire !\";\r\n      this.confMsg = true;\r\n      setTimeout(() => {\r\n        return (this.confMsg = false);\r\n      }, 4000);\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Decouvrir.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Decouvrir.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Decouvrir.vue?vue&type=template&id=68fdd9fe&\"\nimport script from \"./Decouvrir.vue?vue&type=script&lang=js&\"\nexport * from \"./Decouvrir.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBottomNavigation } from 'vuetify/lib/components/VBottomNavigation';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCarousel } from 'vuetify/lib/components/VCarousel';\nimport { VCarouselItem } from 'vuetify/lib/components/VCarousel';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAvatar,VBottomNavigation,VBtn,VCard,VCarousel,VCarouselItem,VChip,VCol,VDialog,VIcon,VRow,VSheet,VSpacer,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}