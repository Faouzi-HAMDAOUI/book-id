(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7536d20"],{1511:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"homeuser"},[e("v-row",{staticClass:"ml-6"},[e("v-col",{staticClass:"justify-center ",attrs:{md:"2"}},[e("v-img",{staticClass:"avatar mt-3",attrs:{width:"130px",src:"https://cdn.vuetifyjs.com/images/john.jpg",alt:"John"}}),e("p",{staticClass:"mt-10"},[t._v("Avis des utilisateurs: (8)")]),e("p",[e("v-rating",{attrs:{value:"4",color:"amber",dense:"","half-increments":"",readonly:"",size:"18"}})],1)],1),e("v-col",{staticClass:"justify-center",attrs:{md:"9"}},[e("h2",[t._v(t._s(t.myUser[0].name)+" "+t._s(t.myUser[0].fullName))]),e("p",{staticClass:"mt-2"},[e("v-icon",[t._v("mdi-map-marker")]),t._v(" "+t._s(t.myUser[0].ville)+" ")],1),e("h4",{staticClass:"mt-10"},[t._v("Bibliothèque:")]),e("h1",[e("span",{attrs:{color:"#2F0392"}},[t._v(t._s(t.nbLivre)+" Livres")])]),t.myID!=t.$route.params.id?e("v-btn",{staticClass:"ma-2 text-capitalize",attrs:{"x-large":"",outlined:"",color:"#2F0392"}},[e("v-icon",{staticClass:"mr-3",attrs:{large:""}},[t._v("mdi-message-processing")]),t._v(" Envoyer un message ")],1):t._e(),t.myID==t.$route.params.id?e("v-btn",{staticClass:"ma-2 text-capitalize",attrs:{"x-large":"",outlined:"",color:"#2F0392"}},[e("v-icon",{staticClass:"mr-3",attrs:{large:""}},[t._v("mdi-brush")]),t._v(" Modifier mon profil ")],1):t._e(),t.myID!=t.$route.params.id?e("v-btn",{staticClass:"ma-2 text-capitalize ml-16",attrs:{align:"bottom","x-large":"",outlined:""}},[e("v-icon",{staticClass:"mr-3",attrs:{large:""}},[t._v("mdi-cancel")]),t._v(" Bloquer le profil ")],1):t._e(),t.myID!=t.$route.params.id?e("v-btn",{staticClass:"ma-2 text-capitalize ",attrs:{"x-large":"",outlined:""}},[e("v-icon",{staticClass:"mr-3",attrs:{large:"",color:"red darken-4\n"}},[t._v("mdi-exclamation-thick")]),t._v(" Signaler le profil ")],1):t._e()],1)],1),e("v-divider",{staticClass:"mt-2 mb-12",attrs:{color:"#FEB546"}}),e("v-row",[e("v-col",{attrs:{md:"6",sm:"12",xs:"4"}},[e("v-row",[e("v-col",{attrs:{md:"10",sm:"10",xs:"10"}},[e("v-text-field",{attrs:{label:"Rechercher un livre, un auteur, un utilisateur..."},on:{keyup:function(s){return t.searchBook(t.book)}},model:{value:t.book,callback:function(s){t.book=s},expression:"book"}})],1),e("v-col",{attrs:{md:"2",sm:"2",xs:"2"}},[e("v-btn",{staticClass:" ml-0 mr-2",attrs:{color:"#FEB546","x-large":""}},[e("v-icon",{attrs:{"x-large":"",color:"white"}},[t._v("mdi-magnify")])],1)],1)],1)],1),e("v-col",{staticClass:"d-flex",attrs:{md:"2",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items2,label:"Genre",multiple:"",filled:""},model:{value:t.Genre,callback:function(s){t.Genre=s},expression:"Genre"}})],1),e("v-col",{staticClass:"d-flex",attrs:{md:"2",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items3,label:"Disponibilité",multiple:"",filled:""}})],1),e("v-col",{staticClass:"d-flex",attrs:{md:"2",sm:"4",xs:"2"}},[e("v-btn",{staticClass:"text-capitalize mt-1",attrs:{depressed:"",filled:"","x-large":""},on:{click:function(s){t.filtre=!t.filtre}}},[t._v(" Plus de filtres... ")])],1)],1),t.filtre?e("v-row",[e("v-col",{staticClass:"d-flex",attrs:{md:"4",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items4,label:"Note",multiple:"",filled:""}})],1),e("v-col",{staticClass:"d-flex",attrs:{md:"4",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items5,label:"Thématique",multiple:"",filled:""}})],1),e("v-col",{staticClass:"d-flex",attrs:{md:"4",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items6,label:"Distance",multiple:"",filled:""}})],1)],1):t._e(),e("v-container",[e("v-row",{attrs:{align:"center"}},[e("v-col",{staticClass:"d-flex mt-3",attrs:{md:"2",sm:"4",xs:"4"}},[e("v-select",{attrs:{items:t.items,label:"Trier par",dense:"",solo:""}})],1)],1),e("v-row",{attrs:{dense:""}},t._l(t.listBooks,(function(s,i){return e("v-col",{key:s.id,staticClass:"mb-16",attrs:{md:"3",sm:"6",xs:"12"}},[e("v-hover",{scopedSlots:t._u([{key:"default",fn:function(a){var o=a.hover;return[e("v-card",{staticClass:"mx-auto",attrs:{color:"grey lighten-4","max-width":"300",height:"360"}},[e("v-img",{attrs:{height:"360","aspect-ratio":16/9,src:s.photo}},[e("v-expand-transition",[o?e("div",{staticClass:" transition-fast-in-fast-out black darken-3 v-card--reveal display-5 white--text",staticStyle:{height:"100%"}},[e("h2",{staticClass:"mt-2 ml-4"},[t._v(t._s(s.title))]),e("p",{staticClass:"ml-4"},[t._t("default"),t._v(" "+t._s(s.auteur))],2),s.genre[0]?e("v-chip",{staticClass:"ml-4  white--text mt-1",attrs:{color:"deep-purple darken-1"}},[t._v(" "+t._s(s.genre[0])+" ")]):t._e(),s.genre[1]?e("v-chip",{staticClass:"ml-4 white--text mt-1",attrs:{color:"purple darken-1"}},[t._v(" "+t._s(s.genre[1])+" ")]):t._e(),"disponible"==s.disponible?e("v-row",[e("v-icon",{staticClass:"ml-6 mt-4",attrs:{color:"white"}},[t._v("mdi-check-box-outline")]),e("h3",{staticClass:"white--tex mt-4"},[t._v("Disponible")])],1):t._e(),e("v-btn",{staticClass:"mt-16 ml-14 ",attrs:{outlined:"",color:"white",Link:"",to:{name:"Book",params:{id:s.id}}}},[e("span",{staticClass:"white--text"},[t._v("en savoir plus...")])]),e("p",{staticClass:"mt-16 ml-3",attrs:{align:"bottom"}},[e("v-icon",{attrs:{color:"white"}},[t._v("mdi-map-marker")]),t._v(" "+t._s(s.ville)+" ")],1)],1):t._e()])],1),e("v-list-item",[e("v-list-item-icon",[s.links[0]&&s.links[0].idUser===t.user.uid||s.links[1]&&s.links[1].idUser===t.user.uid||s.links[2]&&s.links[2].idUser===t.user.uid||s.links[3]&&s.links[3].idUser===t.user.uid||s.links[4]&&s.links[4].idUser===t.user.uid||s.links[5]&&s.links[5].idUser===t.user.uid||s.links[6]&&s.links[6].idUser===t.user.uid||s.links[7]&&s.links[7].idUser===t.user.uid||s.links[8]&&s.links[8].idUser===t.user.uid?e("v-icon",{attrs:{color:"red",large:""},on:{click:function(e){return t.deleteLik(s.id,i)}}},[t._v(" mdi-heart ")]):e("v-icon",{attrs:{color:"black",large:""},on:{click:function(e){return t.addLik(s.id,i)}}},[t._v(" mdi-heart-outline ")])],1),e("v-list-item-content",[e("v-rating",{attrs:{value:s.note,color:"#FEB546",dense:"","half-increments":"",readonly:"",size:"27"}})],1)],1)],1)]}}],null,!0)})],1)})),1)],1),e("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.confMsg,callback:function(s){t.confMsg=s},expression:"confMsg"}},[e("v-card",{attrs:{"max-width":"500px"}},[e("v-toolbar",{attrs:{color:"light-green darken-1",dark:""}},[e("v-toolbar-title",[t._v("Confirmation")]),e("v-spacer"),e("v-btn",{attrs:{icon:""},on:{click:function(s){t.confMsg=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("div",{staticClass:"text-center"},[e("h2",[t._v(t._s(t.messageConf))])])],1)],1)],1)],1)},a=[],o=e("2591"),l=e("56d7"),r={components:{},data:()=>({confMsg:!1,messageConf:"",myID:"",myUser:[],nbLivre:0,disp:!0,filtre:!1,Genre:"",searchResult:"",listBooks:[],searcheBook:[],liked:!1,myLik:[],lik:{},book:"",items:["Croissant","Décroissant","Date"],items2:["Science-fiction","Drame","Fantastique","Romance","Policier"],items3:["Disponible","Non-disponible"],items4:["1 étoile","2 étoiles","3 étoiles","4 étoiles","5 étoiles"],items5:["Science","Cuisine"],items6:["< 5Km","< 10Km","< 15Km","< 20Km"]}),created(){o["a"].auth().onAuthStateChanged(t=>{t?(this.user=t,this.email=t.email,this.myID=t.uid):this.user=null}),this.getBook(),this.getUser()},methods:{getUser:function(){return l["db"].collection("users").get().then(t=>{t.forEach(t=>{let s=t.data();s.id=t.id,s.idUser==this.$route.params.id&&this.myUser.push(s)})}),this.myUser},getBook:function(){l["db"].collection("books").get().then(t=>{t.forEach(t=>{let s=t.data();s.id=t.id;for(var e=0,i=s.links.length;e<i;e++)s.links.idUser==this.user.uid?this.liked=!0:this.liked=!1;s.idUser==this.$route.params.id&&(this.listBooks.push(s),this.nbLivre++)})}),this.searcheBook=this.listBooks},addLik:function(t,s){this.lik={idUser:this.user.uid},this.myLik=this.listBooks[s].links,this.myLik.push(this.lik),l["booksRef"].doc(t).update({links:this.myLik},{merge:!0}).then(()=>{console.log("Document successfully updated!")}).catch(t=>{console.error("Error updating document: ",t)}),this.messageConf="Le livre a été ajouté à vos favoris",this.confMsg=!0,setTimeout(()=>this.confMsg=!1,4e3)},deleteLik:function(t,s){this.myLik=this.listBooks[s].links;for(let e=0,i=this.myLik.length;e<i;e++)this.myLik[e].idUser==this.user.uid&&this.myLik.splice(e,1);l["booksRef"].doc(t).update({links:this.myLik},{merge:!0}).then(()=>{console.log("Document successfully updated!")}).catch(t=>{console.error("Error updating document: ",t)}),this.messageConf="Le livre a été retiré sur la liste de vos favoris",this.confMsg=!0,setTimeout(()=>this.confMsg=!1,4e3)},searchBook:function(t){this.searcheBook=t?this.listBooks.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())||s.auteur.toLowerCase().includes(t.toLowerCase())):this.listBooks,this.listBooks=this.searcheBook}},watch:{book:function(t){""==t&&(this.listBooks=[],this.getBook())},listBooks:function(t){this.searchResult=""==t?"aucun rÃ©sultat ne correspond Ã  votre recherche":""}}},n=r,c=(e("e8c3"),e("2877")),m=e("6544"),d=e.n(m),u=e("8336"),v=e("b0af"),h=e("cc20"),k=e("62ad"),f=e("2b5d"),p=e("a523"),b=e("169a"),g=e("ce7e"),x=e("0789"),C=e("ce87"),_=e("132d"),y=e("adda"),w=e("da13"),B=e("5d23"),L=e("34c3"),U=e("1d4d"),V=e("0fd9"),D=e("b974"),I=e("2fa4"),E=e("8654"),M=e("71d9"),T=e("2a7f"),j=Object(c["a"])(n,i,a,!1,null,null,null);s["default"]=j.exports;d()(j,{VBtn:u["a"],VCard:v["a"],VChip:h["a"],VCol:k["a"],VCombobox:f["a"],VContainer:p["a"],VDialog:b["a"],VDivider:g["a"],VExpandTransition:x["a"],VHover:C["a"],VIcon:_["a"],VImg:y["a"],VListItem:w["a"],VListItemContent:B["a"],VListItemIcon:L["a"],VRating:U["a"],VRow:V["a"],VSelect:D["a"],VSpacer:I["a"],VTextField:E["a"],VToolbar:M["a"],VToolbarTitle:T["a"]})},"7be2":function(t,s,e){},e8c3:function(t,s,e){"use strict";e("7be2")}}]);
//# sourceMappingURL=chunk-f7536d20.407b027e.js.map