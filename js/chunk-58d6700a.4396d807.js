(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58d6700a"],{1681:function(t,e,i){},"703f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ajouterLivre"},[i("v-row",{staticClass:"mt-3 mb-3",attrs:{justify:"center"}},[i("v-card",{attrs:{width:"1000"}},[i("v-card-text",[i("v-container",[i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{md:"4",sm:"12",xs:"12"}},[i("v-img",{attrs:{height:"300",src:t.img1},on:{click:t.click1}}),i("v-spacer"),i("input",{ref:"input1",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.previewImage}}),i("v-fab-transition",[i("v-btn",{staticClass:"mt-16 ml-8",attrs:{color:"white",dark:"",small:"",absolute:"",top:"",left:"",fab:""},on:{click:t.click1}},[i("v-icon",{attrs:{color:"orange"}},[t._v("mdi-pencil")])],1)],1)],1),i("v-col",{attrs:{md:"8",sm:"12",xs:"12"}},[i("label",[i("h2",[t._v("Titre*")])]),i("v-text-field",{attrs:{label:"Ajouter un titre...",filled:"",hint:"penser a un titre court!"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),i("label",[i("h2",[t._v("Auteur*")])]),i("v-text-field",{attrs:{label:"Ajouter un auteur...",filled:"",hint:"penser a un titre court!"},model:{value:t.auteur,callback:function(e){t.auteur=e},expression:"auteur"}}),i("label",[i("h2",[t._v("Genre*")])]),i("v-combobox",{attrs:{items:t.genres,filled:"",chips:"",clearable:"",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.attrs,s=e.item,n=e.select,o=e.selected;return[i("v-chip",t._b({attrs:{"input-value":o,close:"",color:"#FEB546"},on:{click:n,"click:close":function(e){return t.remove(s)}}},"v-chip",a,!1),[i("strong",[t._v(t._s(s))])])]}}]),model:{value:t.genre,callback:function(e){t.genre=e},expression:"genre"}})],1),[i("v-container",{attrs:{fluid:""}},[i("label",[i("h2",[t._v("Résumé*")])]),i("v-textarea",{attrs:{clearable:"",filled:"","clear-icon":"mdi-close-circle",label:"Ajouter un résumé..."},model:{value:t.resume,callback:function(e){t.resume=e},expression:"resume"}})],1)]],2),i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{md:"6",sm:"12",xs:"12"}},[i("label",[i("h2",{staticClass:"mb-2 ml-4"},[t._v("Etat du livre")])]),i("v-select",{staticClass:"ml-3",attrs:{items:t.items,filled:"",label:"Sélectionner un état"},model:{value:t.etats,callback:function(e){t.etats=e},expression:"etats"}})],1),i("v-col",{attrs:{md:"6",sm:"12",xs:"12"}},[i("label",[i("h2",{staticClass:"ml-10"},[t._v("Donner une note")])]),i("v-rating",{staticClass:"ml-6",attrs:{color:"#FEB546","background-color":"grey lighten-1",filled:"",hover:"",length:"5",size:"50"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)],1),[i("v-container",{attrs:{fluid:""}},[i("label",[i("h2",{staticClass:"mb-2"},[t._v("Mon avis sur le livre")])]),i("v-textarea",{attrs:{clearable:"",filled:"","clear-icon":"mdi-close-circle",label:"Mon avis personnel..."},model:{value:t.avis,callback:function(e){t.avis=e},expression:"avis"}})],1)],i("v-sheet",{staticClass:"pa-12",attrs:{filled:"",width:"100%",height:"100%"}},[i("h2",[t._v("Don du livre")]),i("v-switch",{attrs:{flat:"",label:"Je souhaite donner mon livre"},model:{value:t.switch2,callback:function(e){t.switch2=e},expression:"switch2"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"text-capitalize",attrs:{"x-large":""}},[t._v(" Annuler ")]),i("v-btn",{staticClass:"white--text text-capitalize mr-10",attrs:{"x-large":"",color:"#2F0392"},on:{click:t.create}},[t._v(" Valider ")])],1)],2),i("small",[t._v("*indique un champ obligatoire!")])],1)],1)],1),i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.confMsg,callback:function(e){t.confMsg=e},expression:"confMsg"}},[i("v-card",{attrs:{"max-width":"500px"}},[i("v-toolbar",{attrs:{color:"light-green darken-1",dark:""}},[i("v-toolbar-title",[t._v("Confirmation")]),i("v-spacer"),i("v-btn",{attrs:{icon:""},on:{click:function(e){t.confMsg=!1}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("div",{staticClass:"text-center"},[i("h2",[t._v("Votre livre a été ajouté avec succès !")])])],1)],1)],1)],1)},s=[],n=(i("4160"),i("c975"),i("a434"),i("b0c0"),i("159b"),i("2909")),o=i("2591"),l=i("56d7"),r={data:function(){return{confMsg:!1,myUser:[],genre:["Science-fiction"],genres:["Drame","Fantastique","Romance","Policier","Science-fiction"],items:["Très bon","Bon","Moyen","Mauvais"],img1:"https://via.placeholder.com/300",avis:"",title:"",auteur:"",note:0,resume:"",etats:"",switch2:!1,ville:"",idUser:"",nameUser:"",disponible:"disponible"}},created:function(){var t=this;o["a"].auth().onAuthStateChanged((function(e){e?(t.userAuth=e,t.myName=e.email,t.myId=e.uid):t.userAuth=null})),this.getUser()},methods:{getUser:function(){var t=this;return l["db"].collection("users").get().then((function(e){e.forEach((function(e){var i=e.data();i.id=e.id,i.idUser==t.myId&&t.myUser.push(i)}))})),this.myUser},remove:function(t){this.genre.splice(this.genre.indexOf(t),1),this.genre=Object(n["a"])(this.genre)},create:function(){var t=this,e={photo:this.img1,donateur:this.switch2,avis:this.avis,title:this.title,auteur:this.auteur,note:this.note,etats:this.etats,resume:this.resume,genre:this.genre,nameUser:this.myUser[0].name,idUser:this.myUser[0].idUser,ville:this.myUser[0].ville,disponible:this.disponible,dateRetour:"",emprunteur:"",links:[],commentaires:[]};l["db"].collection("books").add(e).then((function(e){console.log(e),t.confMsg=!0,setTimeout((function(){return t.confMsg=!1}),4e3),t.avis="",t.title="",t.auteur="",t.note=0,t.resume="",t.etats="",t.img1="https://via.placeholder.com/300",t.switch2=!1})).catch((function(t){console.log(t)}))},click1:function(){this.$refs.input1.click()},previewImage:function(t){this.uploadValue=0,this.img1=null,this.imageData=t.target.files[0],this.onUpload()},onUpload:function(){var t=this;this.img1=null;var e=o["a"].storage().ref("".concat(this.imageData.name)).put(this.imageData);e.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,e.snapshot.ref.getDownloadURL().then((function(e){t.img1=e,console.log(t.img1)}))}))}}},c=r,u=i("2877"),h=i("6544"),d=i.n(h),v=i("8336"),p=i("b0af"),f=i("99d9"),m=i("cc20"),g=i("62ad"),b=i("2b5d"),w=i("a523"),x=i("169a"),V=i("0789"),y=i("132d"),C=i("adda"),k=i("1d4d"),S=i("0fd9"),_=i("b974"),A=i("8dd9"),I=i("2fa4"),D=i("b73d"),j=i("8654"),T=(i("a9e3"),i("5530")),U=(i("1681"),i("58df")),M=Object(U["a"])(j["a"]),$=M.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(T["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},j["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"}},genInput:function(){var t=j["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){j["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),B=i("71d9"),F=i("2a7f"),O=Object(u["a"])(c,a,s,!1,null,null,null);e["default"]=O.exports;d()(O,{VBtn:v["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VChip:m["a"],VCol:g["a"],VCombobox:b["a"],VContainer:w["a"],VDialog:x["a"],VFabTransition:V["c"],VIcon:y["a"],VImg:C["a"],VRating:k["a"],VRow:S["a"],VSelect:_["a"],VSheet:A["a"],VSpacer:I["a"],VSwitch:D["a"],VTextField:j["a"],VTextarea:$,VToolbar:B["a"],VToolbarTitle:F["a"]})},"9d01":function(t,e,i){},b73d:function(t,e,i){"use strict";i("0481"),i("4069");var a=i("5530"),s=(i("ec29"),i("9d01"),i("4de4"),i("45fc"),i("d3b7"),i("25f0"),i("c37a")),n=i("5311"),o=i("8547"),l=i("58df");function r(t){t.preventDefault()}var c=Object(l["a"])(s["a"],n["a"],o["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=s["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:r},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:r},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var a=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===a&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}}),u=i("c3f0"),h=i("0789"),d=i("490a"),v=i("80d2");e["a"]=c.extend({name:"v-switch",directives:{Touch:u["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(a["a"])(Object(a["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(h["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(d["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===v["s"].left&&this.isActive||t.keyCode===v["s"].right&&!this.isActive)&&this.onChange()}}})},ec29:function(t,e,i){}}]);
//# sourceMappingURL=chunk-58d6700a.4396d807.js.map