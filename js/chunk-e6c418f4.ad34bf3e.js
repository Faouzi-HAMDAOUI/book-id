(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6c418f4"],{"9e3b":function(t,s,e){"use strict";e("e631")},d1bd:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"homeuser"},[e("v-row",[e("v-col",{attrs:{md:"6",sm:"12",xs:"4"}},[e("v-row",[e("v-col",{attrs:{md:"10",sm:"12",xs:"12"}},[e("v-text-field",{attrs:{label:"Rechercher un livre, un auteur, un utilisateur..."},on:{keyup:function(s){return t.searchBook(t.book)}},model:{value:t.book,callback:function(s){t.book=s},expression:"book"}})],1),e("v-col",{attrs:{md:"2",sm:"2",xs:"2"}},[e("v-btn",{staticClass:" ml-0 mr-2",attrs:{color:"#FEB546",large:""}},[e("v-icon",{attrs:{"x-large":"",color:"white"}},[t._v("mdi-magnify")])],1)],1)],1)],1),e("v-col",{staticClass:"flex",attrs:{md:"2",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items2,label:"Genre",multiple:"",filled:""},model:{value:t.Genre,callback:function(s){t.Genre=s},expression:"Genre"}})],1),e("v-col",{staticClass:"d-flex",attrs:{md:"2",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items3,label:"Disponibilité",multiple:"",filled:""}})],1),e("v-col",{staticClass:"d-flex",attrs:{md:"2",sm:"4",xs:"2"}},[e("v-btn",{staticClass:"text-capitalize mt-1",attrs:{depressed:"",filled:"","x-large":""},on:{click:function(s){t.filtre=!t.filtre}}},[t._v(" Plus de filtres... ")])],1)],1),t.filtre?e("v-row",[e("v-col",{staticClass:"d-flex",attrs:{md:"4",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items4,label:"Note",multiple:"",filled:""}})],1),e("v-col",{staticClass:"d-flex",attrs:{md:"4",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items5,label:"Thématique",multiple:"",filled:""}})],1),e("v-col",{staticClass:"d-flex",attrs:{md:"4",sm:"4",xs:"2"}},[e("v-combobox",{attrs:{items:t.items6,label:"Distance",multiple:"",filled:""}})],1)],1):t._e(),e("v-container",[e("v-row",{attrs:{align:"center"}},[e("v-col",{staticClass:"d-flex mt-3",attrs:{md:"2",sm:"4",xs:"4"}},[e("v-select",{attrs:{items:t.items,label:"Trier par",dense:"",solo:""}})],1)],1),e("v-row",{attrs:{dense:""}},t._l(t.listBooks,(function(s,i){return e("v-col",{key:s.id,staticClass:"mb-16",attrs:{md:"3",sm:"6",xs:"12"}},[e("v-hover",{scopedSlots:t._u([{key:"default",fn:function(o){var l=o.hover;return[e("v-card",{staticClass:"mx-auto",attrs:{color:"grey lighten-4","max-width":"300",height:"360"}},[e("v-img",{attrs:{height:"360","aspect-ratio":16/9,src:s.photo}},[e("v-expand-transition",[l?e("div",{staticClass:" transition-fast-in-fast-out black darken-3 v-card--reveal display-5 white--text",staticStyle:{height:"100%"}},[e("h2",{staticClass:"mt-2 ml-4"},[t._v(t._s(s.title))]),e("p",{staticClass:"ml-4"},[t._t("default"),t._v(" "+t._s(s.auteur))],2),s.genre[0]?e("v-chip",{staticClass:"ml-4  white--text mt-1",attrs:{color:"deep-purple darken-1"}},[t._v(" "+t._s(s.genre[0])+" ")]):t._e(),s.genre[1]?e("v-chip",{staticClass:"ml-4 white--text mt-1",attrs:{color:"purple darken-1"}},[t._v(" "+t._s(s.genre[1])+" ")]):t._e(),"disponible"==s.disponible?e("v-row",[e("v-icon",{staticClass:"ml-6 mt-4",attrs:{color:"white"}},[t._v("mdi-check-box-outline")]),e("h3",{staticClass:"white--tex mt-4"},[t._v("Disponible")])],1):t._e(),e("v-btn",{staticClass:"mt-16 ml-14 ",attrs:{outlined:"",color:"white",Link:"",to:{name:"Book",params:{id:s.id}}}},[e("span",{staticClass:"white--text"},[t._v("en savoir plus...")])]),e("p",{staticClass:"mt-16 ml-3",attrs:{align:"bottom"}},[e("v-icon",{attrs:{color:"white"}},[t._v("mdi-map-marker")]),t._v(" "+t._s(s.ville)+" ")],1)],1):t._e()])],1),e("v-list-item",[e("v-list-item-icon",[s.links[0]&&s.links[0].idUser===t.user.uid||s.links[1]&&s.links[1].idUser===t.user.uid||s.links[2]&&s.links[2].idUser===t.user.uid||s.links[3]&&s.links[3].idUser===t.user.uid||s.links[4]&&s.links[4].idUser===t.user.uid||s.links[5]&&s.links[5].idUser===t.user.uid||s.links[6]&&s.links[6].idUser===t.user.uid||s.links[7]&&s.links[7].idUser===t.user.uid||s.links[8]&&s.links[8].idUser===t.user.uid?e("v-icon",{attrs:{color:"red",large:""},on:{click:function(e){return t.deleteLik(s.id,i)}}},[t._v(" mdi-heart ")]):e("v-icon",{attrs:{color:"black",large:""},on:{click:function(e){return t.addLik(s.id,i)}}},[t._v(" mdi-heart-outline ")])],1),e("v-list-item-content",[e("v-rating",{attrs:{value:s.note,color:"#FEB546",dense:"","half-increments":"",readonly:"",size:"27"}})],1)],1)],1)]}}],null,!0)})],1)})),1)],1),e("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.confMsg,callback:function(s){t.confMsg=s},expression:"confMsg"}},[e("v-card",{attrs:{"max-width":"500px"}},[e("v-toolbar",{attrs:{color:"light-green darken-1",dark:""}},[e("v-toolbar-title",[t._v("Confirmation")]),e("v-spacer"),e("v-btn",{attrs:{icon:""},on:{click:function(s){t.confMsg=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("div",{staticClass:"text-center"},[e("h2",[t._v(t._s(t.messageConf))])])],1)],1)],1)],1)},o=[],l=e("2591"),a=e("56d7"),r={components:{},data:()=>({msgFiltre:"Plus de filtres",confMsg:!1,messageConf:"",disp:!0,filtre:!1,Genre:"",searchResult:"",listBooks:[],searcheBook:[],liked:!1,myLik:[],lik:{},book:"",items:["Croissant","Décroissant","Date"],items2:["Science-fiction","Drame","Fantastique","Romance","Policier"],items3:["Disponible","Non-disponible"],items4:["1 étoile","2 étoiles","3 étoiles","4 étoiles","5 étoiles"],items5:["Science","Cuisine"],items6:["< 5Km","< 10Km","< 15Km","< 20Km"]}),created(){l["a"].auth().onAuthStateChanged(t=>{t?(this.user=t,this.email=t.email):this.user=null}),this.getBook()},methods:{getBook:function(){a["db"].collection("books").get().then(t=>{t.forEach(t=>{let s=t.data();s.id=t.id,this.listBooks.push(s)})}),this.searcheBook=this.listBooks},addLik:function(t,s){this.lik={idUser:this.user.uid},this.myLik=this.listBooks[s].links,this.myLik.push(this.lik),a["booksRef"].doc(t).update({links:this.myLik},{merge:!0}).then(()=>{console.log("Document successfully updated!")}).catch(t=>{console.error("Error updating document: ",t)}),this.messageConf="Le livre a été ajouté à vos favoris",this.confMsg=!0,setTimeout(()=>this.confMsg=!1,4e3)},deleteLik:function(t,s){this.myLik=this.listBooks[s].links;for(let e=0,i=this.myLik.length;e<i;e++)this.myLik[e].idUser==this.user.uid&&this.myLik.splice(e,1);a["booksRef"].doc(t).update({links:this.myLik},{merge:!0}).then(()=>{console.log("Document successfully updated!")}).catch(t=>{console.error("Error updating document: ",t)}),this.messageConf="Le livre a été retiré sur la liste de vos favoris",this.confMsg=!0,setTimeout(()=>this.confMsg=!1,4e3)},searchBook:function(t){this.searcheBook=t?this.listBooks.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())||s.auteur.toLowerCase().includes(t.toLowerCase())):this.listBooks,this.listBooks=this.searcheBook}},watch:{book:function(t){""==t&&(this.listBooks=[],this.getBook())},listBooks:function(t){this.searchResult=""==t?"aucun rÃ©sultat ne correspond Ã  votre recherche":""}}},n=r,c=(e("9e3b"),e("2877")),d=e("6544"),m=e.n(d),u=e("8336"),h=e("b0af"),k=e("cc20"),v=e("62ad"),f=e("2b5d"),p=e("a523"),b=e("169a"),g=e("0789"),x=e("ce87"),C=e("132d"),_=e("adda"),w=e("da13"),B=e("5d23"),L=e("34c3"),V=e("1d4d"),y=e("0fd9"),U=e("b974"),D=e("2fa4"),M=e("8654"),T=e("71d9"),R=e("2a7f"),E=Object(c["a"])(n,i,o,!1,null,null,null);s["default"]=E.exports;m()(E,{VBtn:u["a"],VCard:h["a"],VChip:k["a"],VCol:v["a"],VCombobox:f["a"],VContainer:p["a"],VDialog:b["a"],VExpandTransition:g["a"],VHover:x["a"],VIcon:C["a"],VImg:_["a"],VListItem:w["a"],VListItemContent:B["a"],VListItemIcon:L["a"],VRating:V["a"],VRow:y["a"],VSelect:U["a"],VSpacer:D["a"],VTextField:M["a"],VToolbar:T["a"],VToolbarTitle:R["a"]})},e631:function(t,s,e){}}]);
//# sourceMappingURL=chunk-e6c418f4.ad34bf3e.js.map